---
layout: search
title: Search the Online Help
description: The search page for the Theobald Software Online Help portal
permalink: /:collection/:path
weight: 0
lang: en_GB
---

{% capture current_lang %}{% include _tech/current-lang.html %}{% endcapture %}
{% assign current_lang = current_lang | strip_newlines %}

<header class="header-section header-section-search">
    <div class="intro-header intro-header-search no-img">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="search-heading">
                        <h1>{{ page.title }}</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="search-box">
        <!-- SearchBox widget will appear here -->
    </div>
</header>

<div class="container container-homepage" role="main">
    <div class="row">
        <div class="col-md-12">
            <div id="categories-menuSelect">
                <!-- Product Select widget will appear here -->
            </div>
            <div class="ais-menu-select--header ais-header">Results</div>
            <div id="hits">
                <!-- Hits widget will appear here -->
            </div>
            <div id="pagination">
                <!-- Pagination widget will appear here -->
            </div>
        </div>
    </div>
</div>

<!-- TEMPLATES -->
{% raw %}
<script type="text/html" id="hit-template">
    <a href="{{url}}">
        <div class="hit">
            <div class="hit-content">
                <h3 class="hit-page-title">{{title}}</h3>
                <div class="hit-for-product"><p class="hit-for-product-title invisible">{{label}}</p></div>
                <p class="hit-description">{{{_highlightResult.content.value}}}</p>
            </div>
        </div>
    </a>
    <div class="ais-menu-select--header ais-header"></div>
</script>

<script type="text/html" id="no-results-template">
    <div id="no-results-message">
        <p>We didn't find any results for the search <em>"{{query}}"</em>.</p>
    </div>
</script>
{% endraw %}
<!-- /TEMPLATES -->

<script>
    const search = instantsearch({
        appId: '4C27F1P1UC',
        apiKey: '09cbfe4bbe8e6380e31d4572f85ad22e',
        indexName: 'theobald-software-online-help',
        routing: true,
        searchParameters: {
            filters: 'collection:"{{current_lang}}" AND NOT product:"none"'
        },
        highlightPreTag: '<em class="search-highlight">',
        highlightPostTag: '</em>'
    });
</script>

{% raw %}
<script>
    // initialize SearchBox
    search.addWidget(
        instantsearch.widgets.searchBox({
            container: '#search-box',
            placeholder: 'Search...',
            poweredBy: true
        })
    );

    search.addWidget(
        instantsearch.widgets.hits({
            container: '#hits',
            templates: {
                item: getTemplate('hit'),
                empty: getTemplate('no-results')
            },
            transformData: {
                item: function(data) {
                    switch (data.product) {
                        case 'erpconnect':
                            data.label = 'ERPConnect';
                            break;
                        case 'erpconnect-services':
                            data.label = 'ERPConnect Services';
                            break;
                        case 'board-connector':
                            data.label = 'Board Connector';
                            break;
                        case 'xtract-for-alteryz':
                            data.label = 'Xtract for Alteryx';
                            break;
                        case 'xtract-is':
                            data.label = 'Xtract IS';
                            break;
                        case 'xtract-rs':
                            data.label = 'Xtract RS';
                            break;
                        case 'xtract-universal':
                            data.label = 'Xtract Universal';
                            break;
                        case 'yunio':
                            data.label = 'Yunio';
                            break;
                        case 'none':
                        default:
                            data.label = 'none';
                            break;
                    }

                    return data;
                }
            }
        })
    );

    // initialize pagination
    search.addWidget(
        instantsearch.widgets.pagination({
            container: '#pagination',
            maxPages: 10
        })
    );

    search.addWidget(
        instantsearch.widgets.menuSelect({
            container: '#categories-menuSelect',
            attributeName: 'product',
            limit: 10,
            templates: {
                header: 'Filters',
                item: '{{label}}',
                seeAllOption: "Search through all products"
            },
            transformData: {
                item: function(data) {

                    switch (data.label) {
                        case 'erpconnect':
                            data.label = 'ERPConnect';
                            break;
                        case 'erpconnect-services':
                            data.label = 'ERPConnect Services';
                            break;
                        case 'board-connector':
                            data.label = 'Board Connector';
                            break;
                        case 'xtract-for-alteryz':
                            data.label = 'Xtract for Alteryx';
                            break;
                        case 'xtract-is':
                            data.label = 'Xtract IS';
                            break;
                        case 'xtract-rs':
                            data.label = 'Xtract RS';
                            break;
                        case 'xtract-universal':
                            data.label = 'Xtract Universal';
                            break;
                        case 'yunio':
                            data.label = 'Yunio';
                            break;
                        case 'none':
                        default:
                            data.label = 'none';
                            break;
                    }

                    return data;
                }
            },
            init: function init(options) {
                var elements = document.getElementsByClassName('ais-menu-select--option');

                console.log(elements);
                if (elements.length > 0) {
                    for(let i = 0; i < elements.length; i++){
                        console.log(elements[i]);
                        console.log(elements[i].value);
                        if(elements[i].value == null || elements[i].value === '') {
                            elements[i].parentNode.removeChild(elements[i]);
                        }
                    }
                }
            }
        })
    );

    function getTemplate(templateName) {
        return document.querySelector(`#${templateName}-template`).innerHTML;
    }

    search.start();

    search.on('render', function() {
        $('.hit-for-product-title').each(function() {

            switch ($(this).text()) {
                case 'ERPConnect':
                    $(this).parent().html('<img src="/img/products/TS_Icon_2C_ERPConnect.svg" class="img-fluid hit-for-product-icon"> <p class="hit-for-product-text">ERPConnect</p>');
                    break;
                case 'ERPConnect Services':
                    break;
                case 'Board Connector':
                    break;
                case 'Xtract for Alteryx':
                    break;
                case 'Xtract IS':
                    break;
                case 'Xtract RS':
                    break;
                case 'Xtract Universal':
                    break;
                case 'Yunio':
                    break;
                case 'none':
                default:
                    $(this).parent().html("<p>fail</p>");
                    break;
            }
        });
    });

</script>
{% endraw %}